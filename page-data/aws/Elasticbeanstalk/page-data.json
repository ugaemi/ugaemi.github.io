{"componentChunkName":"component---src-templates-blog-post-js","path":"/aws/Elasticbeanstalk/","result":{"data":{"site":{"siteMetadata":{"title":"개미의 개발노트","author":"ugaemi","siteUrl":"http://ugaemi.com","comment":{"disqusShortName":"","utterances":"ugaemi/blog-comments"},"sponsor":{"buyMeACoffeeId":""}}},"markdownRemark":{"id":"170bdc7e-ca6d-5579-98c0-b52201b0f096","excerpt":"개요 토이 프로젝트 배포를 어떻게 할까 고민하던 중에 AWS 프리 티어를 마음껏 활용해보자! 생각해서 ElasticBeanstalk으로 배포를 해보기로 했다. 여태까지는 줄곧 EC2로만 배포를 해왔었는데 ElasticBeanstalk을 이용하면 훨씬 쉽고 빠르게 배포를 할 수 있다고 들었다. 하지만 직접 해보기 전까지는 그 편의성을 잘 모르기 때문에 도전해보기로 했다. ElasticBeanstalk이란? ElasticBeanstalk…","html":"<h2 id=\"개요\" style=\"position:relative;\"><a href=\"#%EA%B0%9C%EC%9A%94\" aria-label=\"개요 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a><a href=\"#%EA%B0%9C%EC%9A%94\" aria-label=\"개요 permalink\" class=\"anchor-header before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>개요</h2>\n<p>토이 프로젝트 배포를 어떻게 할까 고민하던 중에 AWS 프리 티어를 마음껏 활용해보자! 생각해서 ElasticBeanstalk으로 배포를 해보기로 했다.</p>\n<p>여태까지는 줄곧 EC2로만 배포를 해왔었는데 ElasticBeanstalk을 이용하면 훨씬 쉽고 빠르게 배포를 할 수 있다고 들었다.</p>\n<p>하지만 직접 해보기 전까지는 그 편의성을 잘 모르기 때문에 도전해보기로 했다.</p>\n<h2 id=\"elasticbeanstalk이란\" style=\"position:relative;\"><a href=\"#elasticbeanstalk%EC%9D%B4%EB%9E%80\" aria-label=\"elasticbeanstalk이란 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a><a href=\"#elasticbeanstalk%EC%9D%B4%EB%9E%80\" aria-label=\"elasticbeanstalk이란 permalink\" class=\"anchor-header before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>ElasticBeanstalk이란?</h2>\n<blockquote>\n<p>ElasticBeanstalk를 사용하면, 애플리케이션을 실행하는 인프라에 대한 염려 없이 AWS 클라우드에서 애플리케이션을 신속하게 배포 및 관리할 수 있습니다. 선택 또는 제어에 대한 제약 없이 Elastic Beanstalk의 관리 복잡성이 줄어듭니다. 애플리케이션을 업로드하기만 하면 Elastic Beanstalk에서 용량 프로비저닝, 로드 밸런싱, 조정, 애플리케이션 상태 모니터링에 대한 세부 정보를 자동으로 처리합니다.</p>\n</blockquote>\n<p>사실 EC2에 웹 서버(nginX 등)를 연결하고 배포하는 과정이 결코 쉽지만은 않았다. (내 기준)</p>\n<p>필요한 패키지 설치부터 시작해서 <code class=\"language-text\">requirements.txt</code> 설치하고.. <code class=\"language-text\">uwsgi</code> 설정하고..</p>\n<p>하지만 ElasticBeanstalk을 사용하면 그러한 과정과 시간들이 엄청나게 압축된다는 사실! 빠-밤</p>\n<p>알아서 EC2도 생성해주고 <code class=\"language-text\">.config</code> 파일로 배포 설정까지 쉽게 할 수 있도록 도와준다.</p>\n<h2 id=\"eb-cli-설치\" style=\"position:relative;\"><a href=\"#eb-cli-%EC%84%A4%EC%B9%98\" aria-label=\"eb cli 설치 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a><a href=\"#eb-cli-%EC%84%A4%EC%B9%98\" aria-label=\"eb cli 설치 permalink\" class=\"anchor-header before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>EB CLI 설치</h2>\n<p>필자는 mac을 사용하고 있으므로 macOS용 설치 방법을 소개한다.</p>\n<p><code class=\"language-text\">pip</code>를 이용해 설치하는 방법도 있지만 필자는 <code class=\"language-text\">brew</code>로 설치했다.</p>\n<p>(다른 OS 환경에서 설치하실 분들은 <a href=\"https://docs.aws.amazon.com/ko_kr/elasticbeanstalk/latest/dg/eb-cli3-install-advanced.html\">AWS docs</a>를 참고하자.)</p>\n<div class=\"gatsby-highlight\" data-language=\"shell\"><pre class=\"language-shell\"><code class=\"language-shell\">$ brew update\n$ brew <span class=\"token function\">install</span> awsebcli\n$ eb --version\nEB CLI <span class=\"token number\">3.16</span>.0 <span class=\"token punctuation\">(</span>Python <span class=\"token number\">3.6</span>.5<span class=\"token punctuation\">)</span></code></pre></div>\n<h2 id=\"eb-cli-구성\" style=\"position:relative;\"><a href=\"#eb-cli-%EA%B5%AC%EC%84%B1\" aria-label=\"eb cli 구성 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a><a href=\"#eb-cli-%EA%B5%AC%EC%84%B1\" aria-label=\"eb cli 구성 permalink\" class=\"anchor-header before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>EB CLI 구성</h2>\n<p>배포할 프로젝트의 루트에서 다음 명령어를 실행한다.</p>\n<p>서버의 리전 번호를 입력하고 엔터를 누른다.</p>\n<div class=\"gatsby-highlight\" data-language=\"shell\"><pre class=\"language-shell\"><code class=\"language-shell\">$ eb init\nSelect a default region\n<span class=\"token number\">1</span><span class=\"token punctuation\">)</span> us-east-1 <span class=\"token builtin class-name\">:</span> 미국 동부<span class=\"token punctuation\">(</span>버지니아 북부<span class=\"token punctuation\">)</span>\n<span class=\"token number\">2</span><span class=\"token punctuation\">)</span> us-west-1 <span class=\"token builtin class-name\">:</span> 미국 서부<span class=\"token punctuation\">(</span>캘리포니아 북부 지역<span class=\"token punctuation\">)</span>\n<span class=\"token number\">3</span><span class=\"token punctuation\">)</span> us-west-2 <span class=\"token builtin class-name\">:</span> 미국 서부<span class=\"token punctuation\">(</span>오레곤<span class=\"token punctuation\">)</span>\n<span class=\"token number\">4</span><span class=\"token punctuation\">)</span> eu-west-1 <span class=\"token builtin class-name\">:</span> 유럽<span class=\"token punctuation\">(</span>아일랜드<span class=\"token punctuation\">)</span>\n<span class=\"token number\">5</span><span class=\"token punctuation\">)</span> eu-central-1 <span class=\"token builtin class-name\">:</span> 유럽<span class=\"token punctuation\">(</span>프랑크푸르트<span class=\"token punctuation\">)</span>\n<span class=\"token number\">6</span><span class=\"token punctuation\">)</span> ap-south-1 <span class=\"token builtin class-name\">:</span> 아시아 태평양<span class=\"token punctuation\">(</span>뭄바이<span class=\"token punctuation\">)</span>\n<span class=\"token number\">7</span><span class=\"token punctuation\">)</span> ap-southeast-1 <span class=\"token builtin class-name\">:</span> 아시아 태평양<span class=\"token punctuation\">(</span>싱가포르<span class=\"token punctuation\">)</span>\n<span class=\"token number\">8</span><span class=\"token punctuation\">)</span> ap-southeast-2 <span class=\"token builtin class-name\">:</span> 아시아 태평양<span class=\"token punctuation\">(</span>시드니<span class=\"token punctuation\">)</span>\n<span class=\"token number\">9</span><span class=\"token punctuation\">)</span> ap-northeast-1 <span class=\"token builtin class-name\">:</span> 아시아 태평양<span class=\"token punctuation\">(</span>도쿄<span class=\"token punctuation\">)</span>\n<span class=\"token number\">10</span><span class=\"token punctuation\">)</span> ap-northeast-2 <span class=\"token builtin class-name\">:</span> 아시아 태평양<span class=\"token punctuation\">(</span>서울<span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">..</span>.\n<span class=\"token punctuation\">(</span>default is <span class=\"token number\">3</span><span class=\"token punctuation\">)</span>: <span class=\"token number\">3</span></code></pre></div>\n<p><code class=\"language-text\">AWS access id</code>와 <code class=\"language-text\">secret key</code>를 입력한다.</p>\n<p>(잘 모르겠다면 <a href=\"https://docs.aws.amazon.com/ko_kr/IAM/latest/UserGuide/id_credentials_access-keys.html#Using_CreateAccessKey\">AWS docs</a>를 확인하자.)</p>\n<div class=\"gatsby-highlight\" data-language=\"shell\"><pre class=\"language-shell\"><code class=\"language-shell\">You have not yet <span class=\"token builtin class-name\">set</span> up your credentials or your credentials are incorrect.\nYou must provide your credentials.\n<span class=\"token punctuation\">(</span>aws-access-id<span class=\"token punctuation\">)</span>: aws-access-id\n<span class=\"token punctuation\">(</span>aws-secret-key<span class=\"token punctuation\">)</span>: aws-secret-key</code></pre></div>\n<p>새로운 애플리케이션을 생성할 것이므로 <code class=\"language-text\">1</code>을 입력한다.</p>\n<div class=\"gatsby-highlight\" data-language=\"shell\"><pre class=\"language-shell\"><code class=\"language-shell\">Select an application to use\n<span class=\"token number\">1</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">[</span> Create new Application <span class=\"token punctuation\">]</span>\n<span class=\"token punctuation\">(</span>default is <span class=\"token number\">1</span><span class=\"token punctuation\">)</span>: <span class=\"token number\">1</span></code></pre></div>\n<p>생성할 애플리케이션의 이름을 입력한다.</p>\n<p>기본 애플리케이션 이름은 <code class=\"language-text\">eb init</code>을 실행하는 위치의 폴더 이름이다.</p>\n<div class=\"gatsby-highlight\" data-language=\"shell\"><pre class=\"language-shell\"><code class=\"language-shell\">Enter Application Name\n<span class=\"token punctuation\">(</span>default is <span class=\"token string\">\"project_name\"</span><span class=\"token punctuation\">)</span>: project_name\nApplication eb has been created.</code></pre></div>\n<p>웹 애플리케이션을 개발할 프레임워크와 언어를 선택한다.</p>\n<p>필자의 프로젝트는 Python과 Django로 구성했으므로 <code class=\"language-text\">3</code>을 입력했다.</p>\n<div class=\"gatsby-highlight\" data-language=\"shell\"><pre class=\"language-shell\"><code class=\"language-shell\">Select a platform.\n<span class=\"token number\">1</span><span class=\"token punctuation\">)</span> Node.js\n<span class=\"token number\">2</span><span class=\"token punctuation\">)</span> PHP\n<span class=\"token number\">3</span><span class=\"token punctuation\">)</span> Python\n<span class=\"token number\">4</span><span class=\"token punctuation\">)</span> Ruby\n<span class=\"token number\">5</span><span class=\"token punctuation\">)</span> Tomcat\n<span class=\"token number\">6</span><span class=\"token punctuation\">)</span> IIS\n<span class=\"token number\">7</span><span class=\"token punctuation\">)</span> Docker\n<span class=\"token number\">8</span><span class=\"token punctuation\">)</span> Multi-container Docker\n<span class=\"token number\">9</span><span class=\"token punctuation\">)</span> GlassFish\n<span class=\"token number\">10</span><span class=\"token punctuation\">)</span> Go\n<span class=\"token number\">11</span><span class=\"token punctuation\">)</span> Java\n<span class=\"token punctuation\">(</span>default is <span class=\"token number\">1</span><span class=\"token punctuation\">)</span>: <span class=\"token number\">3</span></code></pre></div>\n<p>EB 환경에 SSH 키 페어를 할당하려면 y를 입력한다.</p>\n<p>잘 모르겠다면 <a href=\"https://docs.aws.amazon.com/ko_kr/AWSEC2/latest/UserGuide/ec2-key-pairs.html\">AWS docs</a>를 확인하자.</p>\n<div class=\"gatsby-highlight\" data-language=\"shell\"><pre class=\"language-shell\"><code class=\"language-shell\">Do you want to <span class=\"token builtin class-name\">set</span> up SSH <span class=\"token keyword\">for</span> your instances?\n<span class=\"token punctuation\">(</span>y/n<span class=\"token punctuation\">)</span>: y</code></pre></div>\n<p>기존 키 페어를 선택하거나 새로 만든다.</p>\n<div class=\"gatsby-highlight\" data-language=\"shell\"><pre class=\"language-shell\"><code class=\"language-shell\">Select a keypair.\n<span class=\"token number\">1</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">[</span> Create new KeyPair <span class=\"token punctuation\">]</span>\n<span class=\"token number\">2</span><span class=\"token punctuation\">)</span> ugaemi\n<span class=\"token punctuation\">(</span>default is <span class=\"token number\">1</span><span class=\"token punctuation\">)</span>: <span class=\"token number\">2</span></code></pre></div>\n<h2 id=\"배포-환경-설정\" style=\"position:relative;\"><a href=\"#%EB%B0%B0%ED%8F%AC-%ED%99%98%EA%B2%BD-%EC%84%A4%EC%A0%95\" aria-label=\"배포 환경 설정 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a><a href=\"#%EB%B0%B0%ED%8F%AC-%ED%99%98%EA%B2%BD-%EC%84%A4%EC%A0%95\" aria-label=\"배포 환경 설정 permalink\" class=\"anchor-header before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>배포 환경 설정</h2>\n<p>이제 설정 파일을 만들어 보자.</p>\n<p><code class=\"language-text\">.ebextensions</code> 폴더를 만들고 하위에 <code class=\"language-text\">.config</code> 확장자 파일을 생성한다.</p>\n<p>파일의 번호 순서로 실행 되므로 <code class=\"language-text\">01_init.config</code>, <code class=\"language-text\">02_package.config</code> 와 같이 정리한다.</p>\n<div class=\"gatsby-highlight\" data-language=\"shell\"><pre class=\"language-shell\"><code class=\"language-shell\">option_settings:\n    <span class=\"token string\">\"aws:elasticbeanstalk:container:python\"</span><span class=\"token builtin class-name\">:</span>\n      WSGIPath: config/wsgi.py\n    <span class=\"token string\">\"aws:elasticbeanstalk:container:python:staticfiles\"</span><span class=\"token builtin class-name\">:</span>\n      /static/: <span class=\"token string\">\"www/static/\"</span>\n    <span class=\"token string\">\"aws:elasticbeanstalk:application:environment\"</span><span class=\"token builtin class-name\">:</span>\n      DJANGO_SETTINGS_MODULE: config.settings</code></pre></div>\n<p>설정 파일 작업이 끝났다면 다시 터미널로 가서 <code class=\"language-text\">eb create</code>를 땅 때려 주자.</p>\n<div class=\"gatsby-highlight\" data-language=\"shell\"><pre class=\"language-shell\"><code class=\"language-shell\">$ eb create\nEnter Environment Name\n<span class=\"token punctuation\">(</span>default is EBDjangoProject-dev<span class=\"token punctuation\">)</span>: project_name-dev</code></pre></div>\n<p>DNS CNAME을 입력해준다.</p>\n<div class=\"gatsby-highlight\" data-language=\"shell\"><pre class=\"language-shell\"><code class=\"language-shell\">Enter DNS CNAME prefix\n<span class=\"token punctuation\">(</span>default is EBDjangoProject-dev<span class=\"token punctuation\">)</span>: project_name-dev</code></pre></div>\n<p>로드 밸런서 타입을 선택 해준다.</p>\n<div class=\"gatsby-highlight\" data-language=\"shell\"><pre class=\"language-shell\"><code class=\"language-shell\">Select a load balancer <span class=\"token builtin class-name\">type</span>\n<span class=\"token number\">1</span><span class=\"token punctuation\">)</span> classic\n<span class=\"token number\">2</span><span class=\"token punctuation\">)</span> application\n<span class=\"token number\">3</span><span class=\"token punctuation\">)</span> network\n<span class=\"token punctuation\">(</span>default is <span class=\"token number\">1</span><span class=\"token punctuation\">)</span>: <span class=\"token number\">2</span></code></pre></div>\n<p>프로젝트에 <code class=\"language-text\">.elasticbeanstalk/config.yml</code> 파일이 생성되었을 것이다.</p>\n<div class=\"gatsby-highlight\" data-language=\"shell\"><pre class=\"language-shell\"><code class=\"language-shell\">branch-defaults:\n  master:\n    environment: project_name\n    group_suffix: null\nglobal:\n  application_name: project_name\n  branch: null\n  default_ec2_keyname: ugaemi\n  default_platform: Python <span class=\"token number\">3.6</span>\n  default_region: ap-northeast-2\n  include_git_submodules: <span class=\"token boolean\">true</span>\n  instance_profile: null\n  platform_name: null\n  platform_version: null\n  profile: eb-cli\n  repository: null\n  sc: <span class=\"token function\">git</span>\n  workspace_type: Application</code></pre></div>\n<p>정상적으로 배포가 완료 되었다면 <code class=\"language-text\">eb open</code>을 입력해 웹 애플리케이션을 열어 보자!</p>\n<h2 id=\"추가-설명\" style=\"position:relative;\"><a href=\"#%EC%B6%94%EA%B0%80-%EC%84%A4%EB%AA%85\" aria-label=\"추가 설명 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a><a href=\"#%EC%B6%94%EA%B0%80-%EC%84%A4%EB%AA%85\" aria-label=\"추가 설명 permalink\" class=\"anchor-header before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>추가 설명</h2>\n<h3 id=\"profile\" style=\"position:relative;\"><a href=\"#profile\" aria-label=\"profile permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a><a href=\"#profile\" aria-label=\"profile permalink\" class=\"anchor-header before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>profile</h3>\n<p><code class=\"language-text\">profile</code> 이름은 각 eb 애플리케이션마다 다르게 설정해 주어야 한다.</p>\n<p>mac 사용자의 경우 <code class=\"language-text\">~/.aws/config</code> 파일을 열어보면 다음과 같이 생성한 프로필에 대한 설정 값이 나온다.</p>\n<p>여기 작성 되어있는 <code class=\"language-text\">profile</code> 이름과 <code class=\"language-text\">.elasticbeanstalk/config.yml</code>의 <code class=\"language-text\">profile</code> 이름은 같아야 한다.</p>\n<div class=\"gatsby-highlight\" data-language=\"shell\"><pre class=\"language-shell\"><code class=\"language-shell\"><span class=\"token punctuation\">[</span>profile eb-cli<span class=\"token punctuation\">]</span>\naws_access_key_id <span class=\"token operator\">=</span> access_key_id\naws_secret_access_key <span class=\"token operator\">=</span> secret_access_key</code></pre></div>\n<h3 id=\"db-설정\" style=\"position:relative;\"><a href=\"#db-%EC%84%A4%EC%A0%95\" aria-label=\"db 설정 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a><a href=\"#db-%EC%84%A4%EC%A0%95\" aria-label=\"db 설정 permalink\" class=\"anchor-header before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>DB 설정</h3>\n<p>필자는 RDS PostgreSQL을 사용했는데, DB 설정에서 조금 헤맸다.</p>\n<p>특히 PostgreSQL을 사용하기 위해 필요한 패키지를 설치해야 하는 부분을 간과해서 많이 돌아갔다.</p>\n<div class=\"gatsby-highlight\" data-language=\"shell\"><pre class=\"language-shell\"><code class=\"language-shell\">packages:\n  yum:\n    postgresql96-devel: <span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span></code></pre></div>\n<p>바로 이 부분 이었는데, 각자 사용하는 버전을 잘 확인하고 그에 맞는 패키지를 설정 해주면 될 것 같다 :)</p>\n<h3 id=\"container_commands\" style=\"position:relative;\"><a href=\"#container_commands\" aria-label=\"container_commands permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a><a href=\"#container_commands\" aria-label=\"container_commands permalink\" class=\"anchor-header before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>container_commands</h3>\n<p>컨테이너에서 실행할 명령어를 직접 작성할 수 있다.</p>\n<p>필자는 DB migrate와 collectstatic 명령어를 추가적으로 작성해 주었다.</p>\n<div class=\"gatsby-highlight\" data-language=\"shell\"><pre class=\"language-shell\"><code class=\"language-shell\">container_commands:\n  01_migrate:\n    command: <span class=\"token string\">\"source /opt/python/run/venv/bin/activate &amp;&amp; python manage.py makemigrations &amp;&amp; python manage.py migrate\"</span>\n    leader_only: <span class=\"token boolean\">true</span>\n  02_collectstatic:\n    command: <span class=\"token string\">\"source /opt/python/run/venv/bin/activate &amp;&amp; python manage.py collectstatic --noinput\"</span></code></pre></div>\n<h2 id=\"느낀-점\" style=\"position:relative;\"><a href=\"#%EB%8A%90%EB%82%80-%EC%A0%90\" aria-label=\"느낀 점 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a><a href=\"#%EB%8A%90%EB%82%80-%EC%A0%90\" aria-label=\"느낀 점 permalink\" class=\"anchor-header before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>느낀 점</h2>\n<p>이번 포스팅은 이쯤에서 마치지만, 작성한 부분 이외에 웹 콘솔과 CLI에서 확인하고 설정할 수 있는 것들이 정말 많다.</p>\n<p>그에 대한 부분은 공식 문서를 통해 보면서 공부해 보면 될 것 같다!</p>\n<p>확실히 몇 줄 안되는 명령어로 그간 EC2로 배포하며 고생했던 셋팅들을 손쉽게 할 수 있어 놀라웠다.</p>\n<p>또 <code class=\"language-text\">awsebcli</code>로 터미널 환경에서 간단하게 배포할 수 있다는 점도 좋았다.</p>\n<p><code class=\"language-text\">.ebextensions</code>를 설정하는 부분은 좀 더 공부해 봐야겠지만, 아무튼 배포가 정말 수월해 진 것은 사실이다..</p>\n<h2 id=\"references\" style=\"position:relative;\"><a href=\"#references\" aria-label=\"references permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a><a href=\"#references\" aria-label=\"references permalink\" class=\"anchor-header before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>References</h2>\n<ul>\n<li><a href=\"https://docs.aws.amazon.com/ko_kr/elasticbeanstalk/latest/dg/Welcome.html\">AWS ElasticBeanstalk 공식 문서</a></li>\n</ul>","tableOfContents":"<ul>\n<li><a href=\"/aws/Elasticbeanstalk/#%EA%B0%9C%EC%9A%94\">개요</a></li>\n<li><a href=\"/aws/Elasticbeanstalk/#elasticbeanstalk%EC%9D%B4%EB%9E%80\">ElasticBeanstalk이란?</a></li>\n<li><a href=\"/aws/Elasticbeanstalk/#eb-cli-%EC%84%A4%EC%B9%98\">EB CLI 설치</a></li>\n<li><a href=\"/aws/Elasticbeanstalk/#eb-cli-%EA%B5%AC%EC%84%B1\">EB CLI 구성</a></li>\n<li><a href=\"/aws/Elasticbeanstalk/#%EB%B0%B0%ED%8F%AC-%ED%99%98%EA%B2%BD-%EC%84%A4%EC%A0%95\">배포 환경 설정</a></li>\n<li>\n<p><a href=\"/aws/Elasticbeanstalk/#%EC%B6%94%EA%B0%80-%EC%84%A4%EB%AA%85\">추가 설명</a></p>\n<ul>\n<li><a href=\"/aws/Elasticbeanstalk/#profile\">profile</a></li>\n<li><a href=\"/aws/Elasticbeanstalk/#db-%EC%84%A4%EC%A0%95\">DB 설정</a></li>\n<li><a href=\"/aws/Elasticbeanstalk/#container_commands\">container_commands</a></li>\n</ul>\n</li>\n<li><a href=\"/aws/Elasticbeanstalk/#%EB%8A%90%EB%82%80-%EC%A0%90\">느낀 점</a></li>\n<li><a href=\"/aws/Elasticbeanstalk/#references\">References</a></li>\n</ul>","frontmatter":{"title":"📦 ElasticBeanstalk 시작하기","date":"December 15, 2019"}}},"pageContext":{"slug":"/aws/Elasticbeanstalk/","previous":{"fields":{"slug":"/retrospect/Daily-Commit-1-Month/"},"frontmatter":{"title":"🍀 친구들과 함께 한 일일 커밋 회고","category":"Retrospect","draft":false}},"next":{"fields":{"slug":"/retrospect/2019/"},"frontmatter":{"title":"🐧 2019 회고","category":"Retrospect","draft":false}}}},"staticQueryHashes":["3128451518","96099027"]}
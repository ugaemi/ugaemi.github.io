{"componentChunkName":"component---src-templates-blog-post-js","path":"/django/Basic-of-django-form/","result":{"data":{"site":{"siteMetadata":{"title":"ê°œë¯¸ì˜ ê°œë°œë…¸íŠ¸","author":"ugaemi","siteUrl":"http://ugaemi.com","comment":{"disqusShortName":"","utterances":"ugaemi/blog-comments"},"sponsor":{"buyMeACoffeeId":""}}},"markdownRemark":{"id":"1cd33e28-0359-544b-8291-8c3782462067","excerpt":"ì§€ë‚œ í¬ìŠ¤íŒ…ì— ì´ì–´ ì´ë²ˆì—ëŠ” Two Scoops of Django ì±…ì˜ ì¥ê³  í¼ì— ëŒ€í•œ ë¶€ë¶„ì„ ìš”ì•½ ì •ë¦¬í•´ë³´ì•˜ë‹¤. ì¥ê³  í¼ì„ ì œëŒ€ë¡œ ì´ìš©í•˜ë©´ ê·¸ë™ì•ˆ ë·°ì— ê±°ì¶”ì¥ìŠ¤ëŸ½ê²Œ ëŠ˜ì–´ë†“ì•˜ë˜ ìœ íš¨ì„± ê²€ì‚¬ì— ëŒ€í•œ ë¶€ë¶„ì„ ìƒëµí•  ìˆ˜ ìˆë‹¤.\nì •ë§ ê°•ë ¥í•œ ê¸°ëŠ¥ì´ë‹ˆ ì•Œì°¨ê²Œ ì¨ë¨¹ë„ë¡ í•˜ì! ì¥ê³  í¼ì„ ì´ìš©í•˜ì—¬ ëª¨ë“  ì…ë ¥ ë°ì´í„°ì— ëŒ€í•œ ìœ íš¨ì„± ê²€ì‚¬í•˜ê¸° ì¥ê³  í¼ì€ íŒŒì´ì¬ ë”•ì…”ë„ˆë¦¬ì˜ ìœ íš¨ì„±ì„ ê²€ì‚¬í•˜ëŠ” ë° ìµœìƒì˜ ë„êµ¬ë‹¤.\nëŒ€ë¶€ë¶„ì˜ ê²½ìš° POSTê°€ í¬í•¨ëœ HTTPâ€¦","html":"<p>ì§€ë‚œ í¬ìŠ¤íŒ…ì— ì´ì–´ ì´ë²ˆì—ëŠ” Two Scoops of Django ì±…ì˜ ì¥ê³  í¼ì— ëŒ€í•œ ë¶€ë¶„ì„ ìš”ì•½ ì •ë¦¬í•´ë³´ì•˜ë‹¤.</p>\n<p>ì¥ê³  í¼ì„ ì œëŒ€ë¡œ ì´ìš©í•˜ë©´ ê·¸ë™ì•ˆ ë·°ì— ê±°ì¶”ì¥ìŠ¤ëŸ½ê²Œ ëŠ˜ì–´ë†“ì•˜ë˜ ìœ íš¨ì„± ê²€ì‚¬ì— ëŒ€í•œ ë¶€ë¶„ì„ ìƒëµí•  ìˆ˜ ìˆë‹¤.\nì •ë§ ê°•ë ¥í•œ ê¸°ëŠ¥ì´ë‹ˆ ì•Œì°¨ê²Œ ì¨ë¨¹ë„ë¡ í•˜ì!</p>\n<h2 id=\"ì¥ê³ -í¼ì„-ì´ìš©í•˜ì—¬-ëª¨ë“ -ì…ë ¥-ë°ì´í„°ì—-ëŒ€í•œ-ìœ íš¨ì„±-ê²€ì‚¬í•˜ê¸°\" style=\"position:relative;\"><a href=\"#%EC%9E%A5%EA%B3%A0-%ED%8F%BC%EC%9D%84-%EC%9D%B4%EC%9A%A9%ED%95%98%EC%97%AC-%EB%AA%A8%EB%93%A0-%EC%9E%85%EB%A0%A5-%EB%8D%B0%EC%9D%B4%ED%84%B0%EC%97%90-%EB%8C%80%ED%95%9C-%EC%9C%A0%ED%9A%A8%EC%84%B1-%EA%B2%80%EC%82%AC%ED%95%98%EA%B8%B0\" aria-label=\"ì¥ê³  í¼ì„ ì´ìš©í•˜ì—¬ ëª¨ë“  ì…ë ¥ ë°ì´í„°ì— ëŒ€í•œ ìœ íš¨ì„± ê²€ì‚¬í•˜ê¸° permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a><a href=\"#%EC%9E%A5%EA%B3%A0-%ED%8F%BC%EC%9D%84-%EC%9D%B4%EC%9A%A9%ED%95%98%EC%97%AC-%EB%AA%A8%EB%93%A0-%EC%9E%85%EB%A0%A5-%EB%8D%B0%EC%9D%B4%ED%84%B0%EC%97%90-%EB%8C%80%ED%95%9C-%EC%9C%A0%ED%9A%A8%EC%84%B1-%EA%B2%80%EC%82%AC%ED%95%98%EA%B8%B0\" aria-label=\"ì¥ê³  í¼ì„ ì´ìš©í•˜ì—¬ ëª¨ë“  ì…ë ¥ ë°ì´í„°ì— ëŒ€í•œ ìœ íš¨ì„± ê²€ì‚¬í•˜ê¸° permalink\" class=\"anchor-header before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>ì¥ê³  í¼ì„ ì´ìš©í•˜ì—¬ ëª¨ë“  ì…ë ¥ ë°ì´í„°ì— ëŒ€í•œ ìœ íš¨ì„± ê²€ì‚¬í•˜ê¸°</h2>\n<p>ì¥ê³  í¼ì€ íŒŒì´ì¬ ë”•ì…”ë„ˆë¦¬ì˜ ìœ íš¨ì„±ì„ ê²€ì‚¬í•˜ëŠ” ë° ìµœìƒì˜ ë„êµ¬ë‹¤.\nëŒ€ë¶€ë¶„ì˜ ê²½ìš° POSTê°€ í¬í•¨ëœ HTTP ìš”ì²­ì„ ë°›ì•„ ìœ íš¨ì„±ì„ ê²€ì‚¬í•˜ëŠ” ë° ì´ìš©í•˜ì§€ë§Œ ì´ëŸ° ê²½ìš° ì™¸ì—ëŠ” ì ˆëŒ€ë¡œ ì“°ì§€ ë§ë¼ëŠ” ì œì•½ì€ ì—†ë‹¤.</p>\n<p>ë‹¤ë¥¸ í”„ë¡œì íŠ¸ë¡œë¶€í„° CSV íŒŒì¼ì„ ë°›ì•„ ëª¨ë¸ì— ì—…ë°ì´íŠ¸í•˜ëŠ” ì¥ê³  ì•±ì„ ê°€ì§€ê³  ìˆë‹¤ê³  í•˜ì.</p>\n<div class=\"gatsby-highlight\" data-language=\"python\"><pre class=\"language-python\"><code class=\"language-python\"><span class=\"token keyword\">import</span> csv\n<span class=\"token keyword\">import</span> StringIO\n\n<span class=\"token keyword\">from</span> <span class=\"token punctuation\">.</span>models <span class=\"token keyword\">import</span> Purchase\n\n\n<span class=\"token keyword\">def</span> <span class=\"token function\">add_csv_purchases</span><span class=\"token punctuation\">(</span>rows<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n\n    rows <span class=\"token operator\">=</span> StringIO<span class=\"token punctuation\">.</span>StringIO<span class=\"token punctuation\">(</span>rows<span class=\"token punctuation\">)</span>\n    records_added <span class=\"token operator\">=</span> <span class=\"token number\">0</span>\n\n    <span class=\"token keyword\">for</span> row <span class=\"token keyword\">in</span> csv<span class=\"token punctuation\">.</span>DictReader<span class=\"token punctuation\">(</span>rows<span class=\"token punctuation\">,</span> delimiter<span class=\"token operator\">=</span><span class=\"token string\">','</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n        purchase<span class=\"token punctuation\">.</span>objects<span class=\"token punctuation\">.</span>create<span class=\"token punctuation\">(</span><span class=\"token operator\">**</span>row<span class=\"token punctuation\">)</span>\n        records_added <span class=\"token operator\">+=</span> <span class=\"token number\">1</span>\n    <span class=\"token keyword\">return</span> records_added</code></pre></div>\n<p>ì´ ì½”ë“œì—ì„œ ê°„ê³¼í•˜ê³  ìˆëŠ” ì ì€ <code class=\"language-text\">Purchase</code> ëª¨ë¸ì—ì„œ ë¬¸ìì—´ ê°’ìœ¼ë¡œ ì €ì¥ë˜ì–´ ìˆëŠ” ì…€ëŸ¬ê°€ ì‹¤ì œë¡œ ì¡´ì¬í•˜ëŠ” ì…€ëŸ¬ì¸ì§€ ê·¸ ìœ íš¨ì„±ì„ ê²€ì‚¬í•˜ê³  ìˆì§€ ì•Šë‹¤ëŠ” ì ì´ë‹¤.\në¬¼ë¡  <code class=\"language-text\">add_csv_purchases()</code> í•¨ìˆ˜ì— ìœ íš¨ì„± ê²€ì‚¬ ì½”ë“œë¥¼ ì¶”ê°€í•  ìˆ˜ë„ ìˆê² ì§€ë§Œ ë§¤ë²ˆ ë°ì´í„°ê°€ ë°”ë€” ë•Œë§ˆë‹¤ ë³µì¡í•œ ìœ íš¨ì„± ê²€ì‚¬ ì½”ë“œë¥¼ í•„ìš”ì— ë§ì¶° ìœ ì§€ ê´€ë¦¬í•˜ê¸°ë€ ë§¤ìš° ë²ˆê±°ë¡œìš´ ì¼ì´ë‹¤.</p>\n<p>ì¥ê³ ì˜ ëª¨ë¸ í¼ì„ ì´ìš©í•˜ë©´ ë‹¤ìŒê³¼ ê°™ì´ ì…ë ¥ ë°ì´í„°ì— ëŒ€í•´ ê°„ë‹¨í•˜ê²Œ ìœ íš¨ì„± ê²€ì‚¬ë¥¼ í•  ìˆ˜ ìˆë‹¤.</p>\n<div class=\"gatsby-highlight\" data-language=\"python\"><pre class=\"language-python\"><code class=\"language-python\"><span class=\"token keyword\">import</span> csv\n<span class=\"token keyword\">import</span> StringIO\n\n<span class=\"token keyword\">from</span> django <span class=\"token keyword\">import</span> forms\n\n<span class=\"token keyword\">from</span> <span class=\"token punctuation\">.</span>models <span class=\"token keyword\">import</span> Purchase<span class=\"token punctuation\">,</span> Seller\n\n\n<span class=\"token keyword\">class</span> <span class=\"token class-name\">PurchaseForm</span><span class=\"token punctuation\">(</span>forms<span class=\"token punctuation\">.</span>ModelForm<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n\n    <span class=\"token keyword\">class</span> <span class=\"token class-name\">Meta</span><span class=\"token punctuation\">:</span>\n        model <span class=\"token operator\">=</span> Purchase\n\n    <span class=\"token keyword\">def</span> <span class=\"token function\">clean_seller</span><span class=\"token punctuation\">(</span>self<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n        seller <span class=\"token operator\">=</span> self<span class=\"token punctuation\">.</span>cleaned_data<span class=\"token punctuation\">[</span><span class=\"token string\">\"seller\"</span><span class=\"token punctuation\">]</span>\n        <span class=\"token keyword\">try</span><span class=\"token punctuation\">:</span>\n            Seller<span class=\"token punctuation\">.</span>objects<span class=\"token punctuation\">.</span>get<span class=\"token punctuation\">(</span>name<span class=\"token operator\">=</span>seller<span class=\"token punctuation\">)</span>\n        <span class=\"token keyword\">except</span> Seller<span class=\"token punctuation\">.</span>DoesNotExist<span class=\"token punctuation\">:</span>\n            msg <span class=\"token operator\">=</span> <span class=\"token string-interpolation\"><span class=\"token string\">f\"</span><span class=\"token interpolation\"><span class=\"token punctuation\">{</span>seller<span class=\"token punctuation\">}</span></span><span class=\"token string\"> does not exist in purchase #</span><span class=\"token interpolation\"><span class=\"token punctuation\">{</span>self<span class=\"token punctuation\">.</span>cleaned_data<span class=\"token punctuation\">[</span><span class=\"token string\">'purchase_number'</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">}</span></span><span class=\"token string\">.\"</span></span>\n            <span class=\"token keyword\">raise</span> forms<span class=\"token punctuation\">.</span>ValidationError<span class=\"token punctuation\">(</span>msg<span class=\"token punctuation\">)</span>\n        <span class=\"token keyword\">return</span> seller\n\n\n<span class=\"token keyword\">def</span> <span class=\"token function\">add_csv_purchase</span><span class=\"token punctuation\">(</span>rows<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n    \n    rows <span class=\"token operator\">=</span> StringIO<span class=\"token punctuation\">.</span>StringIO<span class=\"token punctuation\">(</span>rows<span class=\"token punctuation\">)</span>\n\n    records_added <span class=\"token operator\">=</span> <span class=\"token number\">0</span>\n    errors <span class=\"token operator\">=</span> <span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span>\n\n    <span class=\"token keyword\">for</span> row <span class=\"token keyword\">in</span> csv<span class=\"token punctuation\">.</span>DictReader<span class=\"token punctuation\">(</span>rows<span class=\"token punctuation\">,</span> delimiter<span class=\"token operator\">=</span><span class=\"token string\">','</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n\n        <span class=\"token keyword\">from</span> <span class=\"token operator\">=</span> PurchaseForm<span class=\"token punctuation\">(</span>row<span class=\"token punctuation\">)</span>\n        <span class=\"token keyword\">if</span> form<span class=\"token punctuation\">.</span>is_valid<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n            form<span class=\"token punctuation\">.</span>save<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n            records_added <span class=\"token operator\">+=</span> <span class=\"token number\">1</span>\n        <span class=\"token keyword\">else</span><span class=\"token punctuation\">:</span>\n            errors<span class=\"token punctuation\">.</span>append<span class=\"token punctuation\">(</span>form<span class=\"token punctuation\">.</span>errors<span class=\"token punctuation\">)</span>\n\n    <span class=\"token keyword\">return</span> records_added<span class=\"token punctuation\">,</span> errors</code></pre></div>\n<h2 id=\"html-í¼ì—ì„œ-post-ë©”ì„œë“œ-ì´ìš©í•˜ê¸°\" style=\"position:relative;\"><a href=\"#html-%ED%8F%BC%EC%97%90%EC%84%9C-post-%EB%A9%94%EC%84%9C%EB%93%9C-%EC%9D%B4%EC%9A%A9%ED%95%98%EA%B8%B0\" aria-label=\"html í¼ì—ì„œ post ë©”ì„œë“œ ì´ìš©í•˜ê¸° permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a><a href=\"#html-%ED%8F%BC%EC%97%90%EC%84%9C-post-%EB%A9%94%EC%84%9C%EB%93%9C-%EC%9D%B4%EC%9A%A9%ED%95%98%EA%B8%B0\" aria-label=\"html í¼ì—ì„œ post ë©”ì„œë“œ ì´ìš©í•˜ê¸° permalink\" class=\"anchor-header before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>HTML í¼ì—ì„œ POST ë©”ì„œë“œ ì´ìš©í•˜ê¸°</h2>\n<p>ë°ì´í„°ë¥¼ ë³€ê²½í•˜ëŠ” ëª¨ë“  HTML í¼ì€ POST ë©”ì„œë“œë¥¼ ì´ìš©í•˜ì—¬ ë°ì´í„°ë¥¼ ì „ì†¡í•˜ê²Œ ëœë‹¤.</p>\n<div class=\"gatsby-highlight\" data-language=\"html\"><pre class=\"language-html\"><code class=\"language-html\"><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>form</span> <span class=\"token attr-name\">action</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>{% url 'flavor_add' %}<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">method</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>POST<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span></code></pre></div>\n<h2 id=\"ë°ì´í„°ë¥¼-ë³€ê²½í•˜ëŠ”-http-í¼ì€-ì–¸ì œë‚˜-csrf-ë³´ì•ˆì„-ì´ìš©í•´ì•¼-í•œë‹¤\" style=\"position:relative;\"><a href=\"#%EB%8D%B0%EC%9D%B4%ED%84%B0%EB%A5%BC-%EB%B3%80%EA%B2%BD%ED%95%98%EB%8A%94-http-%ED%8F%BC%EC%9D%80-%EC%96%B8%EC%A0%9C%EB%82%98-csrf-%EB%B3%B4%EC%95%88%EC%9D%84-%EC%9D%B4%EC%9A%A9%ED%95%B4%EC%95%BC-%ED%95%9C%EB%8B%A4\" aria-label=\"ë°ì´í„°ë¥¼ ë³€ê²½í•˜ëŠ” http í¼ì€ ì–¸ì œë‚˜ csrf ë³´ì•ˆì„ ì´ìš©í•´ì•¼ í•œë‹¤ permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a><a href=\"#%EB%8D%B0%EC%9D%B4%ED%84%B0%EB%A5%BC-%EB%B3%80%EA%B2%BD%ED%95%98%EB%8A%94-http-%ED%8F%BC%EC%9D%80-%EC%96%B8%EC%A0%9C%EB%82%98-csrf-%EB%B3%B4%EC%95%88%EC%9D%84-%EC%9D%B4%EC%9A%A9%ED%95%B4%EC%95%BC-%ED%95%9C%EB%8B%A4\" aria-label=\"ë°ì´í„°ë¥¼ ë³€ê²½í•˜ëŠ” http í¼ì€ ì–¸ì œë‚˜ csrf ë³´ì•ˆì„ ì´ìš©í•´ì•¼ í•œë‹¤ permalink\" class=\"anchor-header before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>ë°ì´í„°ë¥¼ ë³€ê²½í•˜ëŠ” HTTP í¼ì€ ì–¸ì œë‚˜ CSRF ë³´ì•ˆì„ ì´ìš©í•´ì•¼ í•œë‹¤</h2>\n<p>ì¥ê³ ì—ëŠ” CSRF(Cross-Site Request Forgery protection, ì‚¬ì´íŠ¸ ê°„ ìœ„ì¡° ìš”ì²­ ë°©ì§€)ê°€ ë‚´ì¥ë˜ì–´ ìˆë‹¤.</p>\n<p>CSRF ë³´ì•ˆì„ ì ì‹œ êº¼ ë‘ì–´ë„ ë˜ëŠ” ê²½ìš°ë¡œëŠ” ë¨¸ì‹ ë“¤ ì‚¬ì´ì— ì´ìš©ë˜ëŠ” API ì‚¬ì´íŠ¸ë¥¼ ì œì‘í•  ë•Œë‹¤.\n<code class=\"language-text\">django-tastypie</code>ë‚˜ <code class=\"language-text\">django-rest-framework</code> ê°™ì€ API í”„ë ˆì„ì›Œí¬ì—ì„œëŠ” ì´ëŸ¬í•œ ì²˜ë¦¬ë¥¼ ìë™ìœ¼ë¡œ ë‹¤í•´ì¤€ë‹¤.\nAPI ìš”ì²­ì€ ë‹¨ì¼ ìš”ì²­ì„ ê¸°ë°˜ìœ¼ë¡œ ì¸ì¦ ìš”ì²­/ì¸ì¦ í—ˆìš©ì„ í•˜ê¸° ë•Œë¬¸ì— ì´ëŸ° ê²½ìš° ì¼ë°˜ì ìœ¼ë¡œ HTTP ì¿ í‚¤ë¥¼ ì¸ì¦ ìˆ˜ë‹¨ìœ¼ë¡œ ì´ìš©í•˜ì§€ ì•ŠëŠ”ë‹¤.</p>\n<p>ì¥ê³ ì˜ <code class=\"language-text\">CsrfViewMiddleware</code>ë¥¼ ì‚¬ì´íŠ¸ ì „ì²´ì— ëŒ€í•œ ë³´í˜¸ë§‰ìœ¼ë¡œ ì´ìš©í•¨ìœ¼ë¡œì¨ ì¼ì¼ì´ ì†ìœ¼ë¡œ <code class=\"language-text\">csrf_protect</code>ë¥¼ ë·°ì— ë°ì½”ë ˆì´íŒ…í•˜ì§€ ì•Šì•„ë„ ëœë‹¤.</p>\n<h3 id=\"ajaxë¥¼-í†µí•´-ë°ì´í„°-ì¶”ê°€í•˜ê¸°\" style=\"position:relative;\"><a href=\"#ajax%EB%A5%BC-%ED%86%B5%ED%95%B4-%EB%8D%B0%EC%9D%B4%ED%84%B0-%EC%B6%94%EA%B0%80%ED%95%98%EA%B8%B0\" aria-label=\"ajaxë¥¼ í†µí•´ ë°ì´í„° ì¶”ê°€í•˜ê¸° permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a><a href=\"#ajax%EB%A5%BC-%ED%86%B5%ED%95%B4-%EB%8D%B0%EC%9D%B4%ED%84%B0-%EC%B6%94%EA%B0%80%ED%95%98%EA%B8%B0\" aria-label=\"ajaxë¥¼ í†µí•´ ë°ì´í„° ì¶”ê°€í•˜ê¸° permalink\" class=\"anchor-header before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>AJAXë¥¼ í†µí•´ ë°ì´í„° ì¶”ê°€í•˜ê¸°</h3>\n<p>AJAXë¥¼ í†µí•´ ë°ì´í„°ë¥¼ ì¶”ê°€í•  ë•ŒëŠ” ë°˜ë“œì‹œ ì¥ê³ ì˜ CSRF ë³´ì•ˆì„ ì´ìš©í•´ì•¼ í•œë‹¤.\nì ˆëŒ€ AJAX ë·°ë¥¼ CSRFì— ì˜ˆì™¸ ì²˜ë¦¬í•˜ì§€ ë§ê¸° ë°”ë€ë‹¤.\nëŒ€ì‹ ì— HTTP í—¤ë”ì— X-CSRFTokenì„ ì„¤ì •í•´ë‘ë„ë¡ í•œë‹¤.</p>\n<h2 id=\"ì¥ê³ ì˜-í¼-ì¸ìŠ¤í„´ìŠ¤-ì†ì„±ì„-ì¶”ê°€í•˜ëŠ”-ë°©ë²•-ì´í•´í•˜ê¸°\" style=\"position:relative;\"><a href=\"#%EC%9E%A5%EA%B3%A0%EC%9D%98-%ED%8F%BC-%EC%9D%B8%EC%8A%A4%ED%84%B4%EC%8A%A4-%EC%86%8D%EC%84%B1%EC%9D%84-%EC%B6%94%EA%B0%80%ED%95%98%EB%8A%94-%EB%B0%A9%EB%B2%95-%EC%9D%B4%ED%95%B4%ED%95%98%EA%B8%B0\" aria-label=\"ì¥ê³ ì˜ í¼ ì¸ìŠ¤í„´ìŠ¤ ì†ì„±ì„ ì¶”ê°€í•˜ëŠ” ë°©ë²• ì´í•´í•˜ê¸° permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a><a href=\"#%EC%9E%A5%EA%B3%A0%EC%9D%98-%ED%8F%BC-%EC%9D%B8%EC%8A%A4%ED%84%B4%EC%8A%A4-%EC%86%8D%EC%84%B1%EC%9D%84-%EC%B6%94%EA%B0%80%ED%95%98%EB%8A%94-%EB%B0%A9%EB%B2%95-%EC%9D%B4%ED%95%B4%ED%95%98%EA%B8%B0\" aria-label=\"ì¥ê³ ì˜ í¼ ì¸ìŠ¤í„´ìŠ¤ ì†ì„±ì„ ì¶”ê°€í•˜ëŠ” ë°©ë²• ì´í•´í•˜ê¸° permalink\" class=\"anchor-header before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>ì¥ê³ ì˜ í¼ ì¸ìŠ¤í„´ìŠ¤ ì†ì„±ì„ ì¶”ê°€í•˜ëŠ” ë°©ë²• ì´í•´í•˜ê¸°</h2>\n<p>ë•Œë•Œë¡œ ì¥ê³  í¼ì˜ <code class=\"language-text\">clean()</code>, <code class=\"language-text\">clean_FOO()</code>, <code class=\"language-text\">save()</code> ë©”ì„œë“œì— ì¶”ê°€ë¡œ í¼ ì¸ìŠ¤í„´ìŠ¤ ì†ì„±ì´ í•„ìš”í•  ë•Œê°€ ìˆë‹¤.\nì´ëŸ´ ê²½ìš°ì—ëŠ” <code class=\"language-text\">request.user</code> ê°ì²´ë¥¼ ì´ìš©í•˜ë©´ ëœë‹¤.</p>\n<div class=\"gatsby-highlight\" data-language=\"python\"><pre class=\"language-python\"><code class=\"language-python\"><span class=\"token keyword\">from</span> django <span class=\"token keyword\">import</span> forms\n\n<span class=\"token keyword\">from</span> <span class=\"token punctuation\">.</span>models <span class=\"token keyword\">import</span> Taster\n\n\n<span class=\"token keyword\">class</span> <span class=\"token class-name\">TasterForm</span><span class=\"token punctuation\">(</span>forms<span class=\"token punctuation\">.</span>ModelForm<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n\n    <span class=\"token keyword\">class</span> <span class=\"token class-name\">Meta</span><span class=\"token punctuation\">:</span>\n        model <span class=\"token operator\">=</span> Taster\n\n    <span class=\"token keyword\">def</span> <span class=\"token function\">__init__</span><span class=\"token punctuation\">(</span>self<span class=\"token punctuation\">,</span> <span class=\"token operator\">*</span>args<span class=\"token punctuation\">,</span> <span class=\"token operator\">**</span>kwargs<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n        self<span class=\"token punctuation\">.</span>user <span class=\"token operator\">=</span> kwargs<span class=\"token punctuation\">.</span>pop<span class=\"token punctuation\">(</span><span class=\"token string\">'user'</span><span class=\"token punctuation\">)</span>\n        <span class=\"token builtin\">super</span><span class=\"token punctuation\">(</span>TasterForm<span class=\"token punctuation\">,</span> self<span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span>__init__<span class=\"token punctuation\">(</span><span class=\"token operator\">*</span>args<span class=\"token punctuation\">,</span> <span class=\"token operator\">**</span>kwargs<span class=\"token punctuation\">)</span></code></pre></div>\n<div class=\"gatsby-highlight\" data-language=\"python\"><pre class=\"language-python\"><code class=\"language-python\"><span class=\"token keyword\">from</span> django<span class=\"token punctuation\">.</span>views<span class=\"token punctuation\">.</span>generic <span class=\"token keyword\">import</span> UpdateView\n\n<span class=\"token keyword\">from</span> braces<span class=\"token punctuation\">.</span>views <span class=\"token keyword\">import</span> LoginRequiredMixin\n\n<span class=\"token keyword\">from</span> <span class=\"token punctuation\">.</span>forms <span class=\"token keyword\">import</span> TasterForm\n<span class=\"token keyword\">from</span> <span class=\"token punctuation\">.</span>models <span class=\"token keyword\">import</span> Taster\n\n\n<span class=\"token keyword\">class</span> <span class=\"token class-name\">TasterUpdateView</span><span class=\"token punctuation\">(</span>LoginRequiredMixin<span class=\"token punctuation\">,</span> UpdateView<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n    model <span class=\"token operator\">=</span> Taster\n    form_class <span class=\"token operator\">=</span> TasterForm\n    success_url <span class=\"token operator\">=</span> <span class=\"token string\">\"/someplace/\"</span>\n\n    <span class=\"token keyword\">def</span> <span class=\"token function\">get_form_kwargs</span><span class=\"token punctuation\">(</span>self<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n            kwargs <span class=\"token operator\">=</span> <span class=\"token builtin\">super</span><span class=\"token punctuation\">(</span>TasterUpdateView<span class=\"token punctuation\">,</span> self<span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span>get_form_kwargs<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n            kwargs<span class=\"token punctuation\">[</span><span class=\"token string\">'user'</span><span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> self<span class=\"token punctuation\">.</span>request<span class=\"token punctuation\">.</span>user\n            <span class=\"token keyword\">return</span> kwargs</code></pre></div>\n<h2 id=\"í¼ì´-ìœ íš¨ì„±ì„-ê²€ì‚¬í•˜ëŠ”-ë°©ë²•-ì•Œì•„ë‘ê¸°\" style=\"position:relative;\"><a href=\"#%ED%8F%BC%EC%9D%B4-%EC%9C%A0%ED%9A%A8%EC%84%B1%EC%9D%84-%EA%B2%80%EC%82%AC%ED%95%98%EB%8A%94-%EB%B0%A9%EB%B2%95-%EC%95%8C%EC%95%84%EB%91%90%EA%B8%B0\" aria-label=\"í¼ì´ ìœ íš¨ì„±ì„ ê²€ì‚¬í•˜ëŠ” ë°©ë²• ì•Œì•„ë‘ê¸° permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a><a href=\"#%ED%8F%BC%EC%9D%B4-%EC%9C%A0%ED%9A%A8%EC%84%B1%EC%9D%84-%EA%B2%80%EC%82%AC%ED%95%98%EB%8A%94-%EB%B0%A9%EB%B2%95-%EC%95%8C%EC%95%84%EB%91%90%EA%B8%B0\" aria-label=\"í¼ì´ ìœ íš¨ì„±ì„ ê²€ì‚¬í•˜ëŠ” ë°©ë²• ì•Œì•„ë‘ê¸° permalink\" class=\"anchor-header before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>í¼ì´ ìœ íš¨ì„±ì„ ê²€ì‚¬í•˜ëŠ” ë°©ë²• ì•Œì•„ë‘ê¸°</h2>\n<p><code class=\"language-text\">form.is_valid()</code>ê°€ í˜¸ì¶œë  ë•Œ ì—¬ëŸ¬ ê°€ì§€ ì¼ì´ ë‹¤ìŒ ìˆœì„œë¡œ ì§„í–‰ëœë‹¤.</p>\n<ol>\n<li>í¼ì´ ë°ì´í„°ë¥¼ ë°›ìœ¼ë©´ <code class=\"language-text\">form.is_valid()</code>ëŠ” <code class=\"language-text\">form.full_clean()</code> ë©”ì„œë“œë¥¼ í˜¸ì¶œí•œë‹¤.</li>\n<li>\n<p><code class=\"language-text\">form._full_clean()</code>ì€ í¼ í•„ë“œë“¤ê³¼ ê°ê°ì˜ í•„ë“œ ìœ íš¨ì„±ì„ í•˜ë‚˜í•˜ë‚˜ ê²€ì‚¬í•˜ë©´ì„œ ë‹¤ìŒê³¼ ê°™ì€ ê³¼ì •ì„ ìˆ˜í–‰í•œë‹¤.</p>\n<ol>\n<li>í•„ë“œì— ë“¤ì–´ì˜¨ ë°ì´í„°ì— ëŒ€í•´ <code class=\"language-text\">to_python()</code>ì„ ì´ìš©í•˜ì—¬ íŒŒì´ì¬ í˜•ì‹ìœ¼ë¡œ ë³€í™˜í•˜ê±°ë‚˜ ë³€í™˜í•  ë•Œ ë¬¸ì œê°€ ìƒê¸°ë©´ <code class=\"language-text\">ValidationError</code>ë¥¼ ì¼ìœ¼í‚¨ë‹¤.</li>\n<li>ì»¤ìŠ¤í…€ ìœ íš¨ì„± ê²€ì‚¬ê¸°ë¥¼ í¬í•¨í•œ ê° í•„ë“œì— íŠ¹ë³„í•œ ìœ íš¨ì„±ì„ ê²€ì‚¬í•œë‹¤. ë¬¸ì œê°€ ìˆì„ ë•Œ <code class=\"language-text\">ValidationError</code>ë¥¼ ì¼ìœ¼í‚¨ë‹¤.</li>\n<li>í¼ì— <code class=\"language-text\">clean_&lt;field>()</code> ë©”ì„œë“œê°€ ìˆìœ¼ë©´ ì´ë¥¼ ì‹¤í–‰í•œë‹¤.</li>\n</ol>\n</li>\n<li><code class=\"language-text\">form.full_clean()</code>ì´ <code class=\"language-text\">form.clean()</code> ë©”ì„œë“œë¥¼ ì‹¤í–‰í•œë‹¤.</li>\n<li>\n<p><code class=\"language-text\">ModelForm</code> ì¸ìŠ¤í„´ìŠ¤ì˜ ê²½ìš° <code class=\"language-text\">form.post_clean()</code>ì´ ë‹¤ìŒ ì‘ì—…ì„ í•œë‹¤.</p>\n<ol>\n<li><code class=\"language-text\">form.is_valid()</code>ê°€ <code class=\"language-text\">True</code>ë‚˜ <code class=\"language-text\">False</code>ë¡œ ì„¤ì •ë˜ì–´ ìˆëŠ” ê²ƒê³¼ ê´€ê³„ì—†ì´ <code class=\"language-text\">ModelForm</code> ë°ì´í„°ë¥¼ ëª¨ë¸ ì¸ìŠ¤í„´ìŠ¤ë¡œ ì„¤ì •í•œë‹¤.</li>\n<li>ëª¨ë¸ì˜ <code class=\"language-text\">clean()</code> ë©”ì„œë“œë¥¼ í˜¸ì¶œí•œë‹¤. ì°¸ê³ ë¡œ ORMì„ í†µí•´ ëª¨ë¸ ì¸ìŠ¤í„´ìŠ¤ë¥¼ ì €ì¥í•  ë•ŒëŠ” ëª¨ë¸ì˜ <code class=\"language-text\">clean()</code> ë©”ì„œë“œê°€ í˜¸ì¶œë˜ì§€ëŠ” ì•ŠëŠ”ë‹¤.</li>\n</ol>\n</li>\n</ol>\n<h3 id=\"ëª¨ë¸í¼-ë°ì´í„°ëŠ”-í¼ì—-ë¨¼ì €-ì €ì¥ëœ-ì´í›„-ëª¨ë¸-ì¸ìŠ¤í„´ìŠ¤ì—-ì €ì¥ëœë‹¤\" style=\"position:relative;\"><a href=\"#%EB%AA%A8%EB%8D%B8%ED%8F%BC-%EB%8D%B0%EC%9D%B4%ED%84%B0%EB%8A%94-%ED%8F%BC%EC%97%90-%EB%A8%BC%EC%A0%80-%EC%A0%80%EC%9E%A5%EB%90%9C-%EC%9D%B4%ED%9B%84-%EB%AA%A8%EB%8D%B8-%EC%9D%B8%EC%8A%A4%ED%84%B4%EC%8A%A4%EC%97%90-%EC%A0%80%EC%9E%A5%EB%90%9C%EB%8B%A4\" aria-label=\"ëª¨ë¸í¼ ë°ì´í„°ëŠ” í¼ì— ë¨¼ì € ì €ì¥ëœ ì´í›„ ëª¨ë¸ ì¸ìŠ¤í„´ìŠ¤ì— ì €ì¥ëœë‹¤ permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a><a href=\"#%EB%AA%A8%EB%8D%B8%ED%8F%BC-%EB%8D%B0%EC%9D%B4%ED%84%B0%EB%8A%94-%ED%8F%BC%EC%97%90-%EB%A8%BC%EC%A0%80-%EC%A0%80%EC%9E%A5%EB%90%9C-%EC%9D%B4%ED%9B%84-%EB%AA%A8%EB%8D%B8-%EC%9D%B8%EC%8A%A4%ED%84%B4%EC%8A%A4%EC%97%90-%EC%A0%80%EC%9E%A5%EB%90%9C%EB%8B%A4\" aria-label=\"ëª¨ë¸í¼ ë°ì´í„°ëŠ” í¼ì— ë¨¼ì € ì €ì¥ëœ ì´í›„ ëª¨ë¸ ì¸ìŠ¤í„´ìŠ¤ì— ì €ì¥ëœë‹¤ permalink\" class=\"anchor-header before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>ëª¨ë¸í¼ ë°ì´í„°ëŠ” í¼ì— ë¨¼ì € ì €ì¥ëœ ì´í›„ ëª¨ë¸ ì¸ìŠ¤í„´ìŠ¤ì— ì €ì¥ëœë‹¤</h3>\n<p><code class=\"language-text\">ModelForm</code>ì—ì„œ í¼ ë°ì´í„°ëŠ” ë‘ ê°€ì§€ ê°ê¸° ë‹¤ë¥¸ ë‹¨ê³„ë¥¼ í†µí•´ ì €ì¥ëœë‹¤.</p>\n<ol>\n<li>ì²« ë²ˆì§¸ë¡œ í¼ ë°ì´í„°ê°€ í¼ ì¸ìŠ¤í„´ìŠ¤ì— ì €ì¥ëœë‹¤.</li>\n<li>ê·¸ ë‹¤ìŒì— í¼ ë°ì´í„°ê°€ ëª¨ë¸ ì¸ìŠ¤í„´ìŠ¤ì— ì €ì¥ëœë‹¤.</li>\n</ol>\n<p><code class=\"language-text\">form.save()</code> ë©”ì„œë“œì— ì˜í•´ ì ìš©ë˜ê¸° ì „ê¹Œì§€ëŠ” <code class=\"language-text\">ModelForm</code>ì´ ëª¨ë¸ ì¸ìŠ¤í„´ìŠ¤ë¡œ ì €ì¥ë˜ì§€ ì•Šê¸° ë•Œë¬¸ì— ì´ë ‡ê²Œ ë¶„ë¦¬ëœ ê³¼ì • ìì²´ë¥¼ ì¥ì ìœ¼ë¡œ ì´ìš©í•  ìˆ˜ ìˆë‹¤.</p>\n<p>ì˜ˆë¥¼ ë“¤ë©´ í¼ ì…ë ¥ ì‹œë„ ì‹¤íŒ¨ì— ëŒ€í•´ ì¢€ ë” ìì„¸í•œ ì‚¬í•­ì´ í•„ìš”í•  ë•Œ, ì‚¬ìš©ìê°€ ì…ë ¥í•œ í¼ì˜ ë°ì´í„°ì™€ ëª¨ë¸ ì¸ìŠ¤í„´ìŠ¤ì˜ ë³€í™”ë¥¼ ë‘˜ ë‹¤ ì €ì¥í•  ìˆ˜ ìˆë‹¤.</p>\n<div class=\"gatsby-highlight\" data-language=\"python\"><pre class=\"language-python\"><code class=\"language-python\"><span class=\"token keyword\">from</span> django<span class=\"token punctuation\">.</span>db <span class=\"token keyword\">import</span> models\n\n\n<span class=\"token keyword\">class</span> <span class=\"token class-name\">ModelFormFailuserHistory</span><span class=\"token punctuation\">(</span>models<span class=\"token punctuation\">.</span>Model<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n    form_data <span class=\"token operator\">=</span> models<span class=\"token punctuation\">.</span>TextField<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n    model_data <span class=\"token operator\">=</span> models<span class=\"token punctuation\">.</span>TextField<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span></code></pre></div>\n<div class=\"gatsby-highlight\" data-language=\"python\"><pre class=\"language-python\"><code class=\"language-python\"><span class=\"token keyword\">import</span> json\n\n\n<span class=\"token keyword\">from</span> django<span class=\"token punctuation\">.</span>contrib <span class=\"token keyword\">import</span> messages\n<span class=\"token keyword\">from</span> django<span class=\"token punctuation\">.</span>cors <span class=\"token keyword\">import</span> serializers\n<span class=\"token keyword\">from</span> core<span class=\"token punctuation\">.</span>models <span class=\"token keyword\">import</span> ModelFormFailuerHistory\n\n\n<span class=\"token keyword\">class</span> <span class=\"token class-name\">FlavorActionMixin</span><span class=\"token punctuation\">(</span>self<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n\n    <span class=\"token decorator annotation punctuation\">@property</span>\n    <span class=\"token keyword\">def</span> <span class=\"token function\">success_msg</span><span class=\"token punctuation\">(</span>self<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n        <span class=\"token keyword\">return</span> NotImplemented\n\n    <span class=\"token keyword\">def</span> <span class=\"token function\">form_valid</span><span class=\"token punctuation\">(</span>self<span class=\"token punctuation\">,</span> form<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n        messages<span class=\"token punctuation\">.</span>info<span class=\"token punctuation\">(</span>self<span class=\"token punctuation\">.</span>request<span class=\"token punctuation\">,</span> self<span class=\"token punctuation\">.</span>success_msg<span class=\"token punctuation\">)</span>\n        <span class=\"token keyword\">return</span> <span class=\"token builtin\">super</span><span class=\"token punctuation\">(</span>FlavorActionMixin<span class=\"token punctuation\">,</span> self<span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span>form_valid<span class=\"token punctuation\">(</span>form<span class=\"token punctuation\">)</span>\n\n    <span class=\"token keyword\">def</span> <span class=\"token function\">form_invalid</span><span class=\"token punctuation\">(</span>self<span class=\"token punctuation\">,</span> form<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n        form_data <span class=\"token operator\">=</span> json<span class=\"token punctuation\">.</span>dumps<span class=\"token punctuation\">(</span>form<span class=\"token punctuation\">.</span>cleaned_data<span class=\"token punctuation\">)</span>\n        model_data <span class=\"token operator\">=</span> serializers<span class=\"token punctuation\">.</span>seralize<span class=\"token punctuation\">(</span><span class=\"token string\">\"json\"</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">[</span>form<span class=\"token punctuation\">.</span>instance<span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">[</span><span class=\"token number\">1</span><span class=\"token punctuation\">:</span><span class=\"token operator\">-</span><span class=\"token number\">1</span><span class=\"token punctuation\">]</span>\n        ModelFormFailuserHistory<span class=\"token punctuation\">.</span>objects<span class=\"token punctuation\">.</span>create<span class=\"token punctuation\">(</span>\n                form_data<span class=\"token operator\">=</span>form_data<span class=\"token punctuation\">,</span>\n                model_data<span class=\"token operator\">=</span>model_data\n        <span class=\"token punctuation\">)</span>\n        <span class=\"token keyword\">return</span> <span class=\"token builtin\">super</span><span class=\"token punctuation\">(</span>FlavorActionMixin<span class=\"token punctuation\">,</span> self<span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span>form_invalid<span class=\"token punctuation\">(</span>form<span class=\"token punctuation\">)</span></code></pre></div>\n<h2 id=\"formadd_errorë¥¼-ì´ìš©í•˜ì—¬-í¼ì—-ì—ëŸ¬-ì¶”ê°€í•˜ê¸°\" style=\"position:relative;\"><a href=\"#formadd_error%EB%A5%BC-%EC%9D%B4%EC%9A%A9%ED%95%98%EC%97%AC-%ED%8F%BC%EC%97%90-%EC%97%90%EB%9F%AC-%EC%B6%94%EA%B0%80%ED%95%98%EA%B8%B0\" aria-label=\"formadd_errorë¥¼ ì´ìš©í•˜ì—¬ í¼ì— ì—ëŸ¬ ì¶”ê°€í•˜ê¸° permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a><a href=\"#formadd_error%EB%A5%BC-%EC%9D%B4%EC%9A%A9%ED%95%98%EC%97%AC-%ED%8F%BC%EC%97%90-%EC%97%90%EB%9F%AC-%EC%B6%94%EA%B0%80%ED%95%98%EA%B8%B0\" aria-label=\"formadd_errorë¥¼ ì´ìš©í•˜ì—¬ í¼ì— ì—ëŸ¬ ì¶”ê°€í•˜ê¸° permalink\" class=\"anchor-header before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Form.add_error()ë¥¼ ì´ìš©í•˜ì—¬ í¼ì— ì—ëŸ¬ ì¶”ê°€í•˜ê¸°</h2>\n<div class=\"gatsby-highlight\" data-language=\"python\"><pre class=\"language-python\"><code class=\"language-python\"><span class=\"token keyword\">from</span> django <span class=\"token keyword\">import</span> forms\n\n\n<span class=\"token keyword\">class</span> <span class=\"token class-name\">IceCreamReviewForm</span><span class=\"token punctuation\">(</span>forms<span class=\"token punctuation\">.</span>Form<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n    <span class=\"token comment\"># tester í¼ì˜ ë‚˜ë¨¸ì§€ ë¶€ë¶„</span>\n\n    <span class=\"token keyword\">def</span> <span class=\"token function\">clean</span><span class=\"token punctuation\">(</span>self<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n        cleaned_data <span class=\"token operator\">=</span> <span class=\"token builtin\">super</span><span class=\"token punctuation\">(</span>TasterForm<span class=\"token punctuation\">,</span> self<span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span>clean<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n        flavor <span class=\"token operator\">=</span> cleaned_data<span class=\"token punctuation\">.</span>get<span class=\"token punctuation\">(</span><span class=\"token string\">\"flavor\"</span><span class=\"token punctuation\">)</span>\n        age <span class=\"token operator\">=</span> cleaned_data<span class=\"token punctuation\">.</span>get<span class=\"token punctuation\">(</span><span class=\"token string\">\"age\"</span><span class=\"token punctuation\">)</span>\n\n        <span class=\"token keyword\">if</span> flavor <span class=\"token operator\">==</span> <span class=\"token string\">'coffee'</span> <span class=\"token keyword\">and</span> age <span class=\"token operator\">&lt;</span> <span class=\"token number\">3</span><span class=\"token punctuation\">:</span>\n            msg <span class=\"token operator\">=</span> <span class=\"token string\">'Coffee Ice Cream is not for Babies.'</span>\n            self<span class=\"token punctuation\">.</span>add_error<span class=\"token punctuation\">(</span><span class=\"token string\">'flavor'</span><span class=\"token punctuation\">,</span> msg<span class=\"token punctuation\">)</span>\n            self<span class=\"token punctuation\">.</span>add_error<span class=\"token punctuation\">(</span><span class=\"token string\">'age'</span><span class=\"token punctuation\">,</span> msg<span class=\"token punctuation\">)</span>\n\n        <span class=\"token keyword\">return</span> cleaned_data</code></pre></div>\n<h2 id=\"references\" style=\"position:relative;\"><a href=\"#references\" aria-label=\"references permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a><a href=\"#references\" aria-label=\"references permalink\" class=\"anchor-header before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>References</h2>\n<ul>\n<li>Two Scoops of Django</li>\n</ul>","tableOfContents":"<ul>\n<li><a href=\"/django/Basic-of-django-form/#%EC%9E%A5%EA%B3%A0-%ED%8F%BC%EC%9D%84-%EC%9D%B4%EC%9A%A9%ED%95%98%EC%97%AC-%EB%AA%A8%EB%93%A0-%EC%9E%85%EB%A0%A5-%EB%8D%B0%EC%9D%B4%ED%84%B0%EC%97%90-%EB%8C%80%ED%95%9C-%EC%9C%A0%ED%9A%A8%EC%84%B1-%EA%B2%80%EC%82%AC%ED%95%98%EA%B8%B0\">ì¥ê³  í¼ì„ ì´ìš©í•˜ì—¬ ëª¨ë“  ì…ë ¥ ë°ì´í„°ì— ëŒ€í•œ ìœ íš¨ì„± ê²€ì‚¬í•˜ê¸°</a></li>\n<li><a href=\"/django/Basic-of-django-form/#html-%ED%8F%BC%EC%97%90%EC%84%9C-post-%EB%A9%94%EC%84%9C%EB%93%9C-%EC%9D%B4%EC%9A%A9%ED%95%98%EA%B8%B0\">HTML í¼ì—ì„œ POST ë©”ì„œë“œ ì´ìš©í•˜ê¸°</a></li>\n<li>\n<p><a href=\"/django/Basic-of-django-form/#%EB%8D%B0%EC%9D%B4%ED%84%B0%EB%A5%BC-%EB%B3%80%EA%B2%BD%ED%95%98%EB%8A%94-http-%ED%8F%BC%EC%9D%80-%EC%96%B8%EC%A0%9C%EB%82%98-csrf-%EB%B3%B4%EC%95%88%EC%9D%84-%EC%9D%B4%EC%9A%A9%ED%95%B4%EC%95%BC-%ED%95%9C%EB%8B%A4\">ë°ì´í„°ë¥¼ ë³€ê²½í•˜ëŠ” HTTP í¼ì€ ì–¸ì œë‚˜ CSRF ë³´ì•ˆì„ ì´ìš©í•´ì•¼ í•œë‹¤</a></p>\n<ul>\n<li><a href=\"/django/Basic-of-django-form/#ajax%EB%A5%BC-%ED%86%B5%ED%95%B4-%EB%8D%B0%EC%9D%B4%ED%84%B0-%EC%B6%94%EA%B0%80%ED%95%98%EA%B8%B0\">AJAXë¥¼ í†µí•´ ë°ì´í„° ì¶”ê°€í•˜ê¸°</a></li>\n</ul>\n</li>\n<li><a href=\"/django/Basic-of-django-form/#%EC%9E%A5%EA%B3%A0%EC%9D%98-%ED%8F%BC-%EC%9D%B8%EC%8A%A4%ED%84%B4%EC%8A%A4-%EC%86%8D%EC%84%B1%EC%9D%84-%EC%B6%94%EA%B0%80%ED%95%98%EB%8A%94-%EB%B0%A9%EB%B2%95-%EC%9D%B4%ED%95%B4%ED%95%98%EA%B8%B0\">ì¥ê³ ì˜ í¼ ì¸ìŠ¤í„´ìŠ¤ ì†ì„±ì„ ì¶”ê°€í•˜ëŠ” ë°©ë²• ì´í•´í•˜ê¸°</a></li>\n<li>\n<p><a href=\"/django/Basic-of-django-form/#%ED%8F%BC%EC%9D%B4-%EC%9C%A0%ED%9A%A8%EC%84%B1%EC%9D%84-%EA%B2%80%EC%82%AC%ED%95%98%EB%8A%94-%EB%B0%A9%EB%B2%95-%EC%95%8C%EC%95%84%EB%91%90%EA%B8%B0\">í¼ì´ ìœ íš¨ì„±ì„ ê²€ì‚¬í•˜ëŠ” ë°©ë²• ì•Œì•„ë‘ê¸°</a></p>\n<ul>\n<li><a href=\"/django/Basic-of-django-form/#%EB%AA%A8%EB%8D%B8%ED%8F%BC-%EB%8D%B0%EC%9D%B4%ED%84%B0%EB%8A%94-%ED%8F%BC%EC%97%90-%EB%A8%BC%EC%A0%80-%EC%A0%80%EC%9E%A5%EB%90%9C-%EC%9D%B4%ED%9B%84-%EB%AA%A8%EB%8D%B8-%EC%9D%B8%EC%8A%A4%ED%84%B4%EC%8A%A4%EC%97%90-%EC%A0%80%EC%9E%A5%EB%90%9C%EB%8B%A4\">ëª¨ë¸í¼ ë°ì´í„°ëŠ” í¼ì— ë¨¼ì € ì €ì¥ëœ ì´í›„ ëª¨ë¸ ì¸ìŠ¤í„´ìŠ¤ì— ì €ì¥ëœë‹¤</a></li>\n</ul>\n</li>\n<li><a href=\"/django/Basic-of-django-form/#formadd_error%EB%A5%BC-%EC%9D%B4%EC%9A%A9%ED%95%98%EC%97%AC-%ED%8F%BC%EC%97%90-%EC%97%90%EB%9F%AC-%EC%B6%94%EA%B0%80%ED%95%98%EA%B8%B0\">Form.add_error()ë¥¼ ì´ìš©í•˜ì—¬ í¼ì— ì—ëŸ¬ ì¶”ê°€í•˜ê¸°</a></li>\n<li><a href=\"/django/Basic-of-django-form/#references\">References</a></li>\n</ul>","frontmatter":{"title":"ğŸ”« ì¥ê³  í¼ì˜ ê¸°ì´ˆ","date":"March 28, 2020"}}},"pageContext":{"slug":"/django/Basic-of-django-form/","previous":{"fields":{"slug":"/django/Best-use-of-CBV/"},"frontmatter":{"title":"ğŸ”« í´ë˜ìŠ¤ ê¸°ë°˜ ë·°ì˜ ëª¨ë²”ì ì¸ ì´ìš©","category":"Django","draft":false}},"next":{"fields":{"slug":"/django/Form-patterns/"},"frontmatter":{"title":"ğŸ”« í¼ íŒ¨í„´ë“¤","category":"Django","draft":false}}}},"staticQueryHashes":["3128451518","96099027"]}